import{a as c}from"./chunk-4A2HIXVD.js";import{a as l}from"./chunk-3EDIKQYL.js";import{d as i}from"./chunk-4QEBWWP4.js";import{ca as r,ha as n,l as s}from"./chunk-NIELWWGW.js";var u=class t{constructor(e,a){this.authService=e;this.http=a;this.authService.currentUser$.subscribe(o=>{this.userProfileSubject.next(o)})}userProfileSubject=new s(null);userProfile$=this.userProfileSubject.asObservable();endpoint=l.apiUrl+"/recursoshumanos/empleados/";getCurrentProfile(){return this.userProfileSubject.value}getDisplayName(){let e=this.getCurrentProfile();return e?e.name:"Usuario"}getRoleDisplayName(){return this.getCurrentProfile()?.role||"Sin rol"}hasRole(e){return this.getCurrentProfile()?.id_rol===e}isAdmin(){return this.hasRole(1)}getCompanyId(){return this.getCurrentProfile()?.id_empresa||null}getAvatarOrInitials(){let e=this.getCurrentProfile();return e?e.name.split(" ").map(o=>o.charAt(0)).join("").toUpperCase():"U"}getDatosPersonales(e){let a={empleadoId:e};return console.log("\u{1F4E4} [getDatosPersonales] Enviando al backend:",a),console.log("\u{1F4CD} [getDatosPersonales] URL:",this.endpoint+"GetDatosPersonales"),this.http.post(this.endpoint+"GetDatosPersonales",a)}getCargasFamiliares(e){let a={empleadoId:e};return console.log("\u{1F4E4} [getCargasFamiliares] Enviando al backend:",a),console.log("\u{1F4CD} [getCargasFamiliares] URL:",this.endpoint+"GetCargasFamiliares"),this.http.post(this.endpoint+"GetCargasFamiliares",a)}getVacaciones(e){let a={empleadoId:e};return console.log("\u{1F4E4} [getVacaciones] Enviando al backend:",a),console.log("\u{1F4CD} [getVacaciones] URL:",this.endpoint+"GetVacaciones"),this.http.post(this.endpoint+"GetVacaciones",a)}enviarSolicitudActualizacion(e){return console.log("\u{1F4E4} [enviarSolicitudActualizacion] Enviando al backend:",e),console.log("\u{1F4CD} [enviarSolicitudActualizacion] URL:",this.endpoint+"SolicitudActualizacionDatos"),this.http.post(this.endpoint+"SolicitudActualizacionDatos",e)}actualizarDatosPersonales(e){return console.log("\u{1F4E4} [actualizarDatosPersonales] Enviando al backend:",e),console.log("\u{1F4CD} [actualizarDatosPersonales] URL:",this.endpoint+"ActualizarDatosPersonales"),this.http.post(this.endpoint+"ActualizarDatosPersonales",e)}actualizarcargasempleado(e){return console.log("\u{1F4E4} [actualizarcargasempleado] Enviando al backend:",e),console.log("\u{1F4CD} [actualizarcargasempleado] URL:",this.endpoint+"ActualizarCargasEmpleado"),this.http.post(this.endpoint+"ActualizarCargasEmpleado",e)}actualizarestudios(e){return console.log("\u{1F4E4} [actualizarestudios] Enviando al backend:",e),console.log("\u{1F4CD} [actualizarestudios] URL:",this.endpoint+"ActualizarEstudios"),this.http.post(this.endpoint+"ActualizarEstudios",e)}getCargasEstudios(e){let a={empleadoId:e};return console.log("\u{1F4E4} [getCargasEstudios] Enviando al backend:",a),console.log("\u{1F4CD} [getCargasEstudios] URL:",this.endpoint+"GetCargasEstudios"),this.http.post(this.endpoint+"GetCargasEstudios",a)}actualizarenfermedades(e){return console.log("\u{1F4E4} [actualizarenfermedades] Enviando al backend:",e),console.log("\u{1F4CD} [actualizarenfermedades] URL:",this.endpoint+"ActualizarEnfermedades"),this.http.post(this.endpoint+"ActualizarEnfermedades",e)}getenfermedades(e){return console.log("\u{1F4E4} [getenfermedades] Enviando al backend:",e),console.log("\u{1F4CD} [getenfermedades] URL:",this.endpoint+"Getenfermedades"),this.http.post(this.endpoint+"Getenfermedades",e)}consultarRolesPago(e){return console.log("\u{1F4E4} [consultarRolesPago] Enviando al backend:",e),console.log("\u{1F4CD} [consultarRolesPago] URL:",this.endpoint+"ConsultarRolesPago"),this.http.post(this.endpoint+"ConsultarRolesPago",e)}descargarRolPago(e){let a={rolId:e};return console.log("\u{1F4E4} [descargarRolPago] Enviando al backend:",a),console.log("\u{1F4CD} [descargarRolPago] URL:",this.endpoint+"DescargarRolPago"),this.http.post(this.endpoint+"DescargarRolPago",a,{responseType:"blob"})}actualizarContrasena(e){return console.log("\u{1F4E4} [actualizarContrasena] Enviando al backend:",e),console.log("\u{1F4CD} [actualizarContrasena] URL:",this.endpoint+"ActualizarPassword"),this.http.post(this.endpoint+"ActualizarPassword",e)}static \u0275fac=function(a){return new(a||t)(n(c),n(i))};static \u0275prov=r({token:t,factory:t.\u0275fac,providedIn:"root"})};export{u as a};
