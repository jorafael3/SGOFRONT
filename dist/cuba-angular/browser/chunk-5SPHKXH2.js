import{a as Z}from"./chunk-4DCX2U46.js";import{a as re}from"./chunk-POMG26IM.js";import{a as z}from"./chunk-JETGV2KU.js";import{a as Q,b as X,o as he,p as fe,q as be,r as ve,s as Ce,t as xe,u as Ee,v as Se}from"./chunk-3EDIKQYL.js";import{B as R,C as A,D as ge,H as U,I as B,J as L,L as _e,M as F,O,c as Y,d as K,j as pe,l as ue,t as I,w as V,x as k,z as W}from"./chunk-4QEBWWP4.js";import{l as me,m as T,u as D}from"./chunk-3BZESKLL.js";import{Cb as u,Fc as N,Jb as le,Kb as se,Lb as de,Mb as i,Nb as t,Ob as y,Sb as E,Yb as f,Zb as c,a as w,b as H,ca as G,db as s,e as ae,gc as ce,ha as J,hc as a,ic as v,jb as S,jc as b,mc as g,nc as _,oc as h,pb as P,qa as m,ra as p,ub as C}from"./chunk-NIELWWGW.js";var x=ae(re());var q=class d extends X{endpoint=Q.apiUrl+"/empresas/empresa/";constructor(n){super(n)}getUserSessionToken(){return localStorage.getItem("authToken")||localStorage.getItem("token")||""}getUserSessionData(){let n=localStorage.getItem("user")||"",e=null;try{n&&(e=JSON.parse(n))}catch(r){console.warn("Error parsing user data from localStorage:",r),e=n}return e}headers=new Y({"Content-Type":"application/json",Authorization:`Bearer ${this.getUserSessionToken()}`});getEmpresaList(n){return this.http.post(this.endpoint+"getAllEmpresas",n,{headers:this.headers})}getUserDetails(n){return this.http.post(this.endpoint+"getUserDetails",n,{headers:this.headers})}updateUserData(n){return n.sessionData=this.getUserSessionData(),this.http.post(this.endpoint+"updateUserData",n,{headers:this.headers})}deleteUser(n){return n.sessionData=this.getUserSessionData(),this.http.post(this.endpoint+"deleteUser",n,{headers:this.headers})}createEmpresa(n){return n.sessionData=this.getUserSessionData(),this.http.post(this.endpoint+"create",n,{headers:this.headers})}getEmpresaDataByUid(n){return n.sessionData=this.getUserSessionData(),this.http.post(this.endpoint+"getEmpresaDataByUid",n,{headers:this.headers})}getContactosEmpresa(n){return n.sessionData=this.getUserSessionData(),this.http.post(this.endpoint+"getContactosEmpresa",n,{headers:this.headers})}getHistorialPagosEmpresa(n){return n.sessionData=this.getUserSessionData(),this.http.post(this.endpoint+"getHistorialPagosEmpresa",n,{headers:this.headers})}createContactoEmpresa(n){return n.sessionData=this.getUserSessionData(),this.http.post(this.endpoint+"createContacto",n,{headers:this.headers})}agregarPlanEmpresa(n){return n.sessionData=this.getUserSessionData(),this.http.post(this.endpoint+"agregarPlanEmpresa",n,{headers:this.headers})}getPlanesEmpresa(n){return n.sessionData=this.getUserSessionData(),this.http.post(this.endpoint+"getPlanesEmpresa",n,{headers:this.headers})}static \u0275fac=function(e){return new(e||d)(J(K))};static \u0275prov=G({token:d,factory:d.\u0275fac,providedIn:"root"})};function De(d,n){if(d&1){let e=E();i(0,"div",9)(1,"div",10)(2,"div",11)(3,"div",12)(4,"h5",13),a(5,"Crear empresa"),t(),i(6,"button",14),f("click",function(){m(e);let o=c();return p(o.showCreateModal=!1)}),t()(),i(7,"div",15)(8,"form",16)(9,"div",17)(10,"label",18),a(11,"Nombre Comercial"),t(),i(12,"input",19),h("ngModelChange",function(o){m(e);let l=c();return _(l.empresaNuevo.nombre_comercial,o)||(l.empresaNuevo.nombre_comercial=o),p(o)}),t()(),i(13,"div",17)(14,"label",18),a(15,"Raz\xF3n Social"),t(),i(16,"input",20),h("ngModelChange",function(o){m(e);let l=c();return _(l.empresaNuevo.razon_social,o)||(l.empresaNuevo.razon_social=o),p(o)}),t()(),i(17,"div",17)(18,"label",18),a(19,"RUC"),t(),i(20,"input",21),h("ngModelChange",function(o){m(e);let l=c();return _(l.empresaNuevo.ruc,o)||(l.empresaNuevo.ruc=o),p(o)}),t()(),i(21,"div",17)(22,"label",18),a(23,"Direcci\xF3n"),t(),i(24,"input",22),h("ngModelChange",function(o){m(e);let l=c();return _(l.empresaNuevo.direccion,o)||(l.empresaNuevo.direccion=o),p(o)}),t()(),i(25,"div",17)(26,"label",18),a(27,"Pa\xEDs"),t(),i(28,"select",23),h("ngModelChange",function(o){m(e);let l=c();return _(l.empresaNuevo.pais,o)||(l.empresaNuevo.pais=o),p(o)}),i(29,"option",24),a(30,"Seleccione un pa\xEDs"),t(),i(31,"option",25),a(32,"Argentina"),t(),i(33,"option",26),a(34,"Bolivia"),t(),i(35,"option",27),a(36,"Brasil"),t(),i(37,"option",28),a(38,"Chile"),t(),i(39,"option",29),a(40,"Colombia"),t(),i(41,"option",30),a(42,"Costa Rica"),t(),i(43,"option",31),a(44,"Cuba"),t(),i(45,"option",32),a(46,"Ecuador"),t(),i(47,"option",33),a(48,"El Salvador"),t(),i(49,"option",34),a(50,"Espa\xF1a"),t(),i(51,"option",35),a(52,"Guatemala"),t(),i(53,"option",36),a(54,"Honduras"),t(),i(55,"option",37),a(56,"M\xE9xico"),t(),i(57,"option",38),a(58,"Nicaragua"),t(),i(59,"option",39),a(60,"Panam\xE1"),t(),i(61,"option",40),a(62,"Paraguay"),t(),i(63,"option",41),a(64,"Per\xFA"),t(),i(65,"option",42),a(66,"Puerto Rico"),t(),i(67,"option",43),a(68,"Rep\xFAblica Dominicana"),t(),i(69,"option",44),a(70,"Uruguay"),t(),i(71,"option",45),a(72,"Venezuela"),t()()()()(),i(73,"div",46)(74,"button",47),f("click",function(){m(e);let o=c();return p(o.showCreateModal=!1)}),a(75,"Cerrar"),t(),i(76,"button",48),f("click",function(){m(e);let o=c();return p(o.guardarNuevo())}),a(77,"Guardar"),t()()()()()}if(d&2){let e=c();s(12),g("ngModel",e.empresaNuevo.nombre_comercial),s(4),g("ngModel",e.empresaNuevo.razon_social),s(4),g("ngModel",e.empresaNuevo.ruc),s(4),g("ngModel",e.empresaNuevo.direccion),s(4),g("ngModel",e.empresaNuevo.pais)}}var ee=class d{constructor(n,e,r){this.usuariosService=n;this.cdr=e;this.router=r}showCreateModal=!1;empresaNuevo={};showEditModal=!1;usuarioEditando=null;Usuarios_Datos=[];isLoading=!1;fechaPersonalizadaInicio="";fechaPersonalizadaFin="";Buttons_Export=["excel","pdf","copy"];customButtons=[{label:"",action:"refresh",icon:"fa fa-refresh",class:"btn btn-success",tooltip:"Actualizar datos de la tabla"},{label:"",action:"create_user",icon:"fa fa-plus",class:"btn btn-info",tooltip:"Crear nuevo usuario"}];tableConfig={columns:[{title:"Nombre Empresa",field_value:"nombre_comercial",sort:!0},{title:"Fecha Inscripcion",field_value:"fecha_creacion",sort:!0},{title:"Pais",field_value:"pais",sort:!0},{title:"Plan",field_value:"plan_nombre",sort:!0},{title:"Plan Expiracion",field_value:"fecha_expira",sort:!0},{title:"D\xEDas Restantes",field_value:"dias_restantes",sort:!0},{title:"Estado",field_value:"estado",sort:!0}],row_action:[{label:"",action_to_perform:"edit_empresa",icon:"edit",type:"button",class:"btn btn-light btn-sm",tooltip:"Editar empresa"},{label:"",action_to_perform:"manage_empresa",icon:"building",type:"button",class:"btn btn-light btn-sm",tooltip:"Administrar Empresa"},{label:"",action_to_perform:"delete_empresa",icon:"trash",type:"button",class:"btn btn-danger btn-sm",tooltip:"Eliminar Empresa"}],data:[]};ngOnInit(){let n=new Date,e=new Date(n.getFullYear(),n.getMonth(),1);this.fechaPersonalizadaInicio=e.toISOString().slice(0,10),this.fechaPersonalizadaFin=n.toISOString().slice(0,10),this.loadTableData()}loadTableData(){this.isLoading=!0;let n={fecha_inicial:this.fechaPersonalizadaInicio,fecha_final:this.fechaPersonalizadaFin};console.log("param: ",n),this.usuariosService.getEmpresaList(n).subscribe({next:e=>{console.log("response: ",e),e.success&&e.data?(this.Usuarios_Datos=e.data,this.OnFillTableAction(),setTimeout(()=>{this.cdr.detectChanges()},0)):x.default.fire("Error!",e.message,"error"),this.isLoading=!1},error:e=>{this.isLoading=!1}})}OnFillTableAction(){this.Usuarios_Datos.map(function(n){n.estado=`<span class="badge badge-light-${n.estado=="I"?"danger":"success"}">${n.estado=="I"?"Inactivo":"Activo"}</span>`,n.fecha_creacion=new Date(n.fecha_creacion).toLocaleDateString("es-ES",{year:"numeric",month:"2-digit",day:"2-digit"}),n.fecha_expira=new Date(n.fecha_expira).toLocaleDateString("es-ES",{year:"numeric",month:"2-digit",day:"2-digit"}),n.dias_restantes=1;let e=new Date,o=new Date(n.fecha_expira.split("/").reverse().join("-")).getTime()-e.getTime(),l=Math.max(0,Math.ceil(o/(1e3*60*60*24)));n.dias_restantes=`<span class="badge badge-light-${l<=5?"danger":l<=15?"warning":"primary"}">${l} d\xEDas</span>`}),this.tableConfig=H(w({},this.tableConfig),{data:this.Usuarios_Datos})}onTableAction(n){switch(n.action_to_perform){case"edit_user":this.editUser(n.data);break;case"manage_empresa":n.data&&n.data.id_empresa&&this.ManageEmpresa(n.data);break;case"delete_user":this.deleteUser(n.data);break;default:}}onCreateUser(){this.empresaNuevo={razon_social:"",nombre_comercial:"",pais:"",ruc:"",direccion:""},this.showCreateModal=!0}guardarNuevo(){this.isLoading=!0;let n={razon_social:this.empresaNuevo.razon_social,nombre_comercial:this.empresaNuevo.nombre_comercial,pais:this.empresaNuevo.pais,ruc:this.empresaNuevo.ruc,direccion:this.empresaNuevo.direccion};if(n.razon_social.trim()==""){x.default.fire("Error!","El campo raz\xF3n social es obligatorio","error"),this.isLoading=!1;return}if(n.nombre_comercial.trim()==""){x.default.fire("Error!","El campo nombre comercial es obligatorio","error"),this.isLoading=!1;return}if(n.pais.trim()==""){x.default.fire("Error!","El campo pa\xEDs es obligatorio","error"),this.isLoading=!1;return}this.usuariosService.createEmpresa(n).subscribe({next:e=>{console.log("response: ",e),e.success?(x.default.fire("\xC9xito!",e.message,"success"),this.showCreateModal=!1,this.loadTableData()):x.default.fire("Error!",e.message,"error"),this.isLoading=!1},error:e=>{console.log("\u{1F680} ~ CustomerOrderReportComponent ~ guardarNuevo ~ error:",e),x.default.fire("Error!","No se pudo crear el usuario","error"),this.isLoading=!1}})}editUser(n){let e={id_usuario:n.id_usuario};this.isLoading=!0,this.usuariosService.getUserDetails(e).subscribe({next:r=>{console.log("response: ",r),r.success&&r.data&&(this.usuarioEditando=r.data[0],this.showEditModal=!0,this.isLoading=!1),this.isLoading=!1},error:r=>{this.isLoading=!1}})}guardarEdicionUsuario(){if(!this.usuarioEditando)return;this.isLoading=!0;let n={id_usuario:this.usuarioEditando.id_usuario,usuario:this.usuarioEditando.usuario,nombre:this.usuarioEditando.nombre,apellido:this.usuarioEditando.apellido,email:this.usuarioEditando.email,estado:this.usuarioEditando.estado,empresa:this.usuarioEditando.empresa,rol:this.usuarioEditando.rol};this.usuariosService.updateUserData(n).subscribe({next:e=>{console.log("response: ",e),e.success?(x.default.fire("\xC9xito!",e.message,"success"),this.showEditModal=!1,this.loadTableData()):x.default.fire("Error!",e.message,"error"),this.isLoading=!1},error:e=>{x.default.fire("Error!","No se pudo editar el usuario","error"),this.isLoading=!1}})}ManageEmpresa(n){console.log("\u{1F680} ~ CustomerOrderReportComponent ~ ManageEmpresa ~ user:",n),this.router.navigate(["/empresas/panel_empresa",n.tenant_uid])}deleteUser(n){x.default.fire({title:"Estas seguro que quieres eliminar este usuario?",text:"No podr\xE1s revertir esto!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"S\xED, eliminarlo!"}).then(e=>{if(e.isConfirmed){this.isLoading=!0;let r={id_usuario:n.id_usuario};this.usuariosService.deleteUser(H(w({},r),{estado:"I"})).subscribe({next:o=>{o.success?(x.default.fire("\xC9xito!","Usuario eliminado correctamente","success"),this.loadTableData()):x.default.fire("Error!",o.message,"error"),this.isLoading=!1},error:o=>{x.default.fire("Error!","No se pudo eliminar el usuario","error"),this.isLoading=!1}})}})}onCustomAction(n){switch(n.action){case"refresh":this.onRefreshTableData();break;case"create_user":this.onCreateUser();break;default:}}onRefreshTableData(){console.log("Refrescando datos de la tabla..."),this.loadTableData()}static \u0275fac=function(e){return new(e||d)(S(q),S(N),S(ue))};static \u0275cmp=P({type:d,selectors:[["app-customer-order-report"]],decls:9,vars:11,consts:[[1,"container-fluid","customer-order-wrapper"],[1,"row"],[1,"col-12"],[3,"headerTitle"],[1,"row","mb-2"],[1,"customer-order-report","table-responsive","custom-scrollbar"],[1,"recent-table"],[3,"action","customAction","hasCheckbox","tableConfig","pageSize","paginateDetails","selectedRows","downloadReports","exportButtons","customButtons","initialDateFilter"],["class","modal fade show d-block","tabindex","-1","style","background:rgba(0,0,0,0.3);",4,"ngIf"],["tabindex","-1",1,"modal","fade","show","d-block",2,"background","rgba(0,0,0,0.3)"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],["autocomplete","off"],[1,"mb-2"],[1,"form-label"],["type","text","name","empresaNuevo_nombre_comercial","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","empresaNuevo_razon_social","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","empresaNuevo_ruc","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","empresaNuevo_direccion","required","",1,"form-control",3,"ngModelChange","ngModel"],["name","empresaNuevo_pais","required","",1,"form-select",3,"ngModelChange","ngModel"],["value",""],["value","Argentina"],["value","Bolivia"],["value","Brasil"],["value","Chile"],["value","Colombia"],["value","Costa Rica"],["value","Cuba"],["value","Ecuador"],["value","El Salvador"],["value","Espa\xF1a"],["value","Guatemala"],["value","Honduras"],["value","M\xE9xico"],["value","Nicaragua"],["value","Panam\xE1"],["value","Paraguay"],["value","Per\xFA"],["value","Puerto Rico"],["value","Rep\xFAblica Dominicana"],["value","Uruguay"],["value","Venezuela"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(e,r){e&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"app-card",3),y(4,"div",4),i(5,"div",5)(6,"div",6)(7,"app-table",7),f("action",function(l){return r.onTableAction(l)})("customAction",function(l){return r.onCustomAction(l)}),t()()()()()(),C(8,De,78,5,"div",8),t()),e&2&&(s(3),u("headerTitle","Empresas"),s(4),u("hasCheckbox",!1)("tableConfig",r.tableConfig)("pageSize",10)("paginateDetails",!0)("selectedRows",!0)("downloadReports",!0)("exportButtons",r.Buttons_Export)("customButtons",r.customButtons)("initialDateFilter","this_month"),s(),u("ngIf",r.showCreateModal))},dependencies:[D,T,O,A,B,L,I,U,V,k,F,R,W,z,Z],encapsulation:2})};var M=ae(re());var te=class d extends X{endpoint=Q.apiUrl+"/planes/planes/";constructor(n){super(n)}getUserSessionToken(){return localStorage.getItem("authToken")||localStorage.getItem("token")||""}getUserSessionData(){let n=localStorage.getItem("user")||"",e=null;try{n&&(e=JSON.parse(n))}catch(r){console.warn("Error parsing user data from localStorage:",r),e=n}return e}headers=new Y({"Content-Type":"application/json",Authorization:`Bearer ${this.getUserSessionToken()}`});getPlanes(n){return n.sessionData=this.getUserSessionData(),this.http.post(this.endpoint+"getPlanes",n,{headers:this.headers})}createPlan(n){return n.sessionData=this.getUserSessionData(),this.http.post(this.endpoint+"createPlan",n,{headers:this.headers})}static \u0275fac=function(e){return new(e||d)(J(K))};static \u0275prov=G({token:d,factory:d.\u0275fac,providedIn:"root"})};function Ve(d,n){if(d&1){let e=E();i(0,"div",13)(1,"div",14)(2,"div",15)(3,"div",16)(4,"h5",17),a(5,"Crear plan"),t(),i(6,"button",18),f("click",function(){m(e);let o=c();return p(o.showCreatePlanModal=!1)}),t()(),i(7,"div",19)(8,"form",20)(9,"div",21)(10,"label",22),a(11,"Nombre"),t(),i(12,"input",23),h("ngModelChange",function(o){m(e);let l=c();return _(l.planNuevo.nombre,o)||(l.planNuevo.nombre=o),p(o)}),t()(),i(13,"div",21)(14,"label",22),a(15,"Descripci\xF3n"),t(),i(16,"input",24),h("ngModelChange",function(o){m(e);let l=c();return _(l.planNuevo.descripcion,o)||(l.planNuevo.descripcion=o),p(o)}),t()(),i(17,"div",21)(18,"label",22),a(19,"M\xE1x. Documentos"),t(),i(20,"input",25),h("ngModelChange",function(o){m(e);let l=c();return _(l.planNuevo.max_documentos,o)||(l.planNuevo.max_documentos=o),p(o)}),t()()()(),i(21,"div",26)(22,"button",27),f("click",function(){m(e);let o=c();return p(o.showCreatePlanModal=!1)}),a(23,"Cerrar"),t(),i(24,"button",28),f("click",function(){m(e);let o=c();return p(o.guardarNuevoPlan())}),a(25,"Guardar"),t()()()()()}if(d&2){let e=c();s(12),g("ngModel",e.planNuevo.nombre),s(4),g("ngModel",e.planNuevo.descripcion),s(4),g("ngModel",e.planNuevo.max_documentos)}}function ke(d,n){if(d&1){let e=E();i(0,"div",13)(1,"div",14)(2,"div",15)(3,"div",16)(4,"h5",17),a(5,"Editar usuario"),t(),i(6,"button",18),f("click",function(){m(e);let o=c();return p(o.showEditModal=!1)}),t()(),i(7,"div",19)(8,"form",20)(9,"div",21)(10,"label",22),a(11,"Usuario"),t(),i(12,"input",29),h("ngModelChange",function(o){m(e);let l=c();return _(l.usuarioEditando.usuario,o)||(l.usuarioEditando.usuario=o),p(o)}),t()(),i(13,"div",21)(14,"label",22),a(15,"Nombre"),t(),i(16,"input",30),h("ngModelChange",function(o){m(e);let l=c();return _(l.usuarioEditando.nombre,o)||(l.usuarioEditando.nombre=o),p(o)}),t()(),i(17,"div",21)(18,"label",22),a(19,"Apellido"),t(),i(20,"input",31),h("ngModelChange",function(o){m(e);let l=c();return _(l.usuarioEditando.apellido,o)||(l.usuarioEditando.apellido=o),p(o)}),t()(),i(21,"div",21)(22,"label",22),a(23,"Email"),t(),i(24,"input",32),h("ngModelChange",function(o){m(e);let l=c();return _(l.usuarioEditando.email,o)||(l.usuarioEditando.email=o),p(o)}),t()(),i(25,"div",21)(26,"label",22),a(27,"Estado"),t(),i(28,"select",33),h("ngModelChange",function(o){m(e);let l=c();return _(l.usuarioEditando.estado,o)||(l.usuarioEditando.estado=o),p(o)}),i(29,"option",34),a(30,"Activo"),t(),i(31,"option",35),a(32,"Inactivo"),t()()(),i(33,"div",21)(34,"label",22),a(35,"Empresa"),t(),i(36,"input",36),h("ngModelChange",function(o){m(e);let l=c();return _(l.usuarioEditando.empresa,o)||(l.usuarioEditando.empresa=o),p(o)}),t()(),i(37,"div",21)(38,"label",22),a(39,"Rol"),t(),i(40,"input",37),h("ngModelChange",function(o){m(e);let l=c();return _(l.usuarioEditando.rol,o)||(l.usuarioEditando.rol=o),p(o)}),t()()()(),i(41,"div",26)(42,"button",27),f("click",function(){m(e);let o=c();return p(o.showEditModal=!1)}),a(43,"Cerrar"),t()()()()()}if(d&2){let e=c();s(12),g("ngModel",e.usuarioEditando.usuario),s(4),g("ngModel",e.usuarioEditando.nombre),s(4),g("ngModel",e.usuarioEditando.apellido),s(4),g("ngModel",e.usuarioEditando.email),s(4),g("ngModel",e.usuarioEditando.estado),s(8),g("ngModel",e.usuarioEditando.empresa),s(4),g("ngModel",e.usuarioEditando.rol)}}function We(d,n){if(d&1){let e=E();i(0,"div",13)(1,"div",14)(2,"div",15)(3,"div",16)(4,"h5",17),a(5,"Crear usuario"),t(),i(6,"button",18),f("click",function(){m(e);let o=c();return p(o.showCreateModal=!1)}),t()(),i(7,"div",19)(8,"form",20)(9,"div",21)(10,"label",22),a(11,"Usuario"),t(),i(12,"input",38),h("ngModelChange",function(o){m(e);let l=c();return _(l.usuarioNuevo.usuario,o)||(l.usuarioNuevo.usuario=o),p(o)}),t()(),i(13,"div",21)(14,"label",22),a(15,"Nombre"),t(),i(16,"input",39),h("ngModelChange",function(o){m(e);let l=c();return _(l.usuarioNuevo.nombre,o)||(l.usuarioNuevo.nombre=o),p(o)}),t()(),i(17,"div",21)(18,"label",22),a(19,"Apellido"),t(),i(20,"input",40),h("ngModelChange",function(o){m(e);let l=c();return _(l.usuarioNuevo.apellido,o)||(l.usuarioNuevo.apellido=o),p(o)}),t()(),i(21,"div",21)(22,"label",22),a(23,"Tel\xE9fono"),t(),i(24,"input",41),h("ngModelChange",function(o){m(e);let l=c();return _(l.usuarioNuevo.telefono,o)||(l.usuarioNuevo.telefono=o),p(o)}),t()(),i(25,"div",21)(26,"label",22),a(27,"Email"),t(),i(28,"input",42),h("ngModelChange",function(o){m(e);let l=c();return _(l.usuarioNuevo.email,o)||(l.usuarioNuevo.email=o),p(o)}),t()(),i(29,"div",21)(30,"label",22),a(31,"Contrase\xF1a"),t(),i(32,"input",43),h("ngModelChange",function(o){m(e);let l=c();return _(l.usuarioNuevo.password,o)||(l.usuarioNuevo.password=o),p(o)}),t()(),i(33,"div",21)(34,"label",22),a(35,"Confirmar contrase\xF1a"),t(),i(36,"input",44),h("ngModelChange",function(o){m(e);let l=c();return _(l.usuarioNuevo.password_confirmation,o)||(l.usuarioNuevo.password_confirmation=o),p(o)}),t()()()(),i(37,"div",26)(38,"button",27),f("click",function(){m(e);let o=c();return p(o.showCreateModal=!1)}),a(39,"Cerrar"),t()()()()()}if(d&2){let e=c();s(12),g("ngModel",e.usuarioNuevo.usuario),s(4),g("ngModel",e.usuarioNuevo.nombre),s(4),g("ngModel",e.usuarioNuevo.apellido),s(4),g("ngModel",e.usuarioNuevo.telefono),s(4),g("ngModel",e.usuarioNuevo.email),s(4),g("ngModel",e.usuarioNuevo.password),s(4),g("ngModel",e.usuarioNuevo.password_confirmation)}}function Re(d,n){if(d&1&&(i(0,"div",12)(1,"div",45)(2,"div",46)(3,"h3",47),a(4),t()(),i(5,"div",48)(6,"span",49),a(7,"$"),t(),i(8,"span",50),a(9),t(),y(10,"br"),i(11,"span",51),a(12,"mes"),t()(),i(13,"ul",52)(14,"li"),a(15),t(),i(16,"li"),a(17),t(),i(18,"li"),a(19),t(),i(20,"li"),a(21),t(),i(22,"li"),a(23),t()(),i(24,"div",53)(25,"a",54),a(26,"Sign Up"),t()()()()),d&2){let e=n.$implicit;s(4),v(e.plan_nombre),s(5),v(e.precio),s(6),b("Usuario: ",e.max_usuarios,""),s(2),b("Almacenamiento: ",e.max_almacenamiento,""),s(2),b("Soporte: ",e.soporte,""),s(2),b("Integraciones: ",e.integraciones,""),s(2),b("Informes: ",e.informes,"")}}var ie=class d{constructor(n,e){this.usuariosService=n;this.cdr=e}showCreatePlanModal=!1;planNuevo={nombre:"",descripcion:"",max_documentos:0};showCreateModal=!1;usuarioNuevo={};showEditModal=!1;usuarioEditando=null;Usuarios_Datos=[];isLoading=!1;fechaPersonalizadaInicio="";fechaPersonalizadaFin="";Buttons_Export=["excel","pdf"];datos_planes=[];tablePlanesConfig={columns:[{title:"Periodo",field_value:"periodo_nombre",sort:!0,type:"select",options:[]},{title:"Periodo",field_value:"periodo_nombre",sort:!0},{title:"Precio",field_value:"precio",sort:!0},{title:"Usuarios",field_value:"max_usuarios",sort:!0},{title:"Documentos",field_value:"max_documentos",sort:!0},{title:"Almacenamiento (GB)",field_value:"max_almacenamiento",sort:!0}],row_action:[{label:"",action_to_perform:"edit_user",icon:"edit",class:"btn btn-sm",tooltip:"Editar usuario"}],data:[]};customButtons=[{label:"",action:"refresh",icon:"fa fa-refresh",class:"btn btn-success",tooltip:"Actualizar datos de la tabla"},{label:"",action:"create_plan",icon:"fa fa-plus",class:"btn btn-info",tooltip:"Crear nuevo usuario"}];ngOnInit(){let n=new Date,e=new Date(n.getFullYear(),n.getMonth(),1);this.fechaPersonalizadaInicio=e.toISOString().slice(0,10),this.fechaPersonalizadaFin=n.toISOString().slice(0,10),this.loadTableData()}loadTableData(){this.isLoading=!0;let n={fecha_inicial:this.fechaPersonalizadaInicio,fecha_final:this.fechaPersonalizadaFin};console.log("param: ",n),this.usuariosService.getPlanes(n).subscribe({next:e=>{console.log("response: ",e),e.success&&e.data&&(this.datos_planes=e.data,this.OnFillTableAction(),setTimeout(()=>{this.cdr.detectChanges()},0)),this.isLoading=!1},error:e=>{this.isLoading=!1}})}OnFillTableAction(){this.tablePlanesConfig=H(w({},this.tablePlanesConfig),{data:this.datos_planes})}onTableAction(n){}onCreatePlan(){this.planNuevo={nombre:"",descripcion:"",max_documentos:0},this.showCreatePlanModal=!0}guardarNuevoPlan(){this.isLoading=!0;let n={nombre:this.planNuevo.nombre,descripcion:this.planNuevo.descripcion,max_documentos:this.planNuevo.max_documentos};if(!n.nombre.trim()){M.default.fire("Error!","El nombre es obligatorio","error"),this.isLoading=!1;return}if(!n.descripcion.trim()){M.default.fire("Error!","La descripci\xF3n es obligatoria","error"),this.isLoading=!1;return}if(n.max_documentos<0){M.default.fire("Error!","El m\xE1ximo de documentos debe ser mayor o igual a 0","error"),this.isLoading=!1;return}this.usuariosService.createPlan(n).subscribe({next:e=>{e.success?(M.default.fire("\xC9xito!",e.message,"success"),this.showCreatePlanModal=!1,this.loadTableData()):M.default.fire("Error!",e.message,"error"),this.isLoading=!1},error:e=>{M.default.fire("Error!","No se pudo crear el plan","error"),this.isLoading=!1}})}onCustomAction(n){switch(n.action){case"refresh":this.onRefreshTableData();break;case"create_plan":this.onCreatePlan();break;default:}}onRefreshTableData(){console.log("Refrescando datos de la tabla..."),this.loadTableData()}static \u0275fac=function(e){return new(e||d)(S(te),S(N))};static \u0275cmp=P({type:d,selectors:[["app-customer-order-report"]],decls:17,vars:16,consts:[[1,"container-fluid","customer-order-wrapper"],["class","modal fade show d-block","tabindex","-1","style","background:rgba(0,0,0,0.3);",4,"ngIf"],[1,"row"],[1,"col-12"],[3,"headerTitle"],[1,"customer-order-report","table-responsive","custom-scrollbar"],[1,"recent-table"],[3,"action","customAction","hasCheckbox","tableConfig","pageSize","paginateDetails","selectedRows","downloadReports","exportButtons","customButtons","initialDateFilter"],[1,"container-fluid"],[1,"col-sm-12"],[3,"headerTitle","border","padding"],[1,"row","g-3","pricing-block"],[1,"col-lg-3","col-sm-6"],["tabindex","-1",1,"modal","fade","show","d-block",2,"background","rgba(0,0,0,0.3)"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],["autocomplete","off"],[1,"mb-2"],[1,"form-label"],["type","text","name","planNuevo_nombre","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","planNuevo_descripcion","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","number","name","planNuevo_max_documentos","min","0","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],["disabled","","type","text","name","usuarioEditando_usuario",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","usuarioEditando_nombre",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","usuarioEditando_apellido",1,"form-control",3,"ngModelChange","ngModel"],["type","email","name","usuarioEditando_email",1,"form-control",3,"ngModelChange","ngModel"],["name","usuarioEditando_estado",1,"form-select",3,"ngModelChange","ngModel"],["value","A"],["value","I"],["type","number","name","usuarioEditando_empresa",1,"form-control",3,"ngModelChange","ngModel"],["type","number","name","usuarioEditando_rol",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","usuarioNuevo_usuario",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","usuarioNuevo_nombre",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","usuarioNuevo_apellido",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","usuarioNuevo_telefono",1,"form-control",3,"ngModelChange","ngModel"],["type","email","name","usuarioNuevo_email",1,"form-control",3,"ngModelChange","ngModel"],["type","password","name","usuarioNuevo_password",1,"form-control",3,"ngModelChange","ngModel"],["type","password","name","usuarioNuevo_password_confirmation",1,"form-control",3,"ngModelChange","ngModel"],[1,"pricingtable"],[1,"pricingtable-header"],[1,"title"],[1,"price-value"],[1,"currency"],[1,"amount","fs-3"],[1,"duration"],[1,"pricing-content"],[1,"pricingtable-signup"],["href","javascript:void(0)",1,"btn","btn-primary","btn-lg"]],template:function(e,r){e&1&&(i(0,"div",0),C(1,Ve,26,3,"div",1),i(2,"div",2)(3,"div",3)(4,"app-card",4)(5,"div",5)(6,"div",6)(7,"app-table",7),f("action",function(l){return r.onTableAction(l)})("customAction",function(l){return r.onCustomAction(l)}),t()()()()()(),C(8,ke,44,7,"div",1)(9,We,40,7,"div",1),t(),i(10,"div",8)(11,"div",2)(12,"div",9)(13,"app-card",10)(14,"div",11),se(15,Re,27,7,"div",12,le),t()()()()()),e&2&&(s(),u("ngIf",r.showCreatePlanModal),s(3),u("headerTitle","Planes"),s(3),u("hasCheckbox",!1)("tableConfig",r.tablePlanesConfig)("pageSize",10)("paginateDetails",!0)("selectedRows",!1)("downloadReports",!0)("exportButtons",r.Buttons_Export)("customButtons",r.customButtons)("initialDateFilter","this_month"),s(),u("ngIf",r.showEditModal),s(),u("ngIf",r.showCreateModal),s(4),u("headerTitle","Become a member")("border",!0)("padding",!1),s(2),de(r.datos_planes))},dependencies:[D,T,O,A,B,L,I,ge,U,V,k,F,_e,R,W,z,Z],encapsulation:2})};var j=ae(re());function Ae(d,n){if(d&1&&(i(0,"tr")(1,"td"),a(2),t(),i(3,"td"),a(4),t(),i(5,"td"),a(6),t(),i(7,"td"),a(8),t(),i(9,"td"),a(10),t(),i(11,"td"),a(12),t(),i(13,"td"),a(14),t()()),d&2){let e=n.$implicit;s(2),v(e.id_emp_plan),s(2),v(e.plan_id),s(2),v(e.fecha_inicio),s(2),v(e.fecha_fin),s(2),v(e.estado),s(2),v(e.creado_por),s(2),v(e.fecha_creacion)}}function Ue(d,n){d&1&&(i(0,"tr")(1,"td",34),a(2,"No hay historial de pagos/suscripci\xF3n. "),t()())}function Be(d,n){if(d&1&&(i(0,"div",29)(1,"h5",30),a(2,"Historial de pagos"),t()(),i(3,"table",31)(4,"thead")(5,"tr")(6,"th"),a(7,"ID"),t(),i(8,"th"),a(9,"Plan"),t(),i(10,"th"),a(11,"Fecha inicio"),t(),i(12,"th"),a(13,"Fecha fin"),t(),i(14,"th"),a(15,"Estado"),t(),i(16,"th"),a(17,"Creado por"),t(),i(18,"th"),a(19,"Fecha creaci\xF3n"),t()()(),i(20,"tbody"),C(21,Ae,15,7,"tr",32)(22,Ue,3,0,"tr",33),t()()),d&2){let e=c();s(21),u("ngForOf",e.historialPagos),s(),u("ngIf",e.historialPagos.length===0)}}function Le(d,n){if(d&1&&(i(0,"tr")(1,"td"),a(2),t(),i(3,"td"),a(4),t(),i(5,"td"),a(6),t(),i(7,"td"),a(8),t(),i(9,"td"),a(10),t(),i(11,"td"),a(12),t()()),d&2){let e=n.$implicit;s(2),v(e.nombre),s(2),v(e.email),s(2),v(e.telefono),s(2),v(e.rol_contacto),s(2),v(e.estado),s(2),v(e.fecha_creacion)}}function Fe(d,n){d&1&&(i(0,"tr")(1,"td",35),a(2,"No hay contactos registrados. "),t()())}function Oe(d,n){if(d&1&&(i(0,"div",29)(1,"h5",30),a(2,"Contactos de la empresa"),t(),i(3,"table",31)(4,"thead")(5,"tr")(6,"th"),a(7,"Nombre"),t(),i(8,"th"),a(9,"Email"),t(),i(10,"th"),a(11,"Tel\xE9fono"),t(),i(12,"th"),a(13,"Rol"),t(),i(14,"th"),a(15,"Estado"),t(),i(16,"th"),a(17,"Fecha creaci\xF3n"),t()()(),i(18,"tbody"),C(19,Le,13,6,"tr",32)(20,Fe,3,0,"tr",33),t()()()),d&2){let e=c();s(19),u("ngForOf",e.contactos),s(),u("ngIf",e.contactos.length===0)}}function ze(d,n){d&1&&(i(0,"div",36)(1,"span"),a(2,"Debug: historialPagos est\xE1 vac\xEDo."),t()())}function qe(d,n){if(d&1&&(i(0,"div",37)(1,"span"),a(2),t()()),d&2){let e=c();s(2),b("Debug: historialPagos tiene ",e.historialPagos.length," registros.")}}function He(d,n){if(d&1){let e=E();i(0,"div",38)(1,"div",39)(2,"div",40)(3,"div",41)(4,"h5",42),a(5,"Agregar contacto"),t(),i(6,"button",43),f("click",function(){m(e);let o=c();return p(o.showAddContactModal=!1)}),t()(),i(7,"div",44)(8,"form",45),f("ngSubmit",function(){m(e);let o=c();return p(o.guardarNuevoContacto())}),i(9,"div",46)(10,"label"),a(11,"Nombre"),t(),i(12,"input",47),h("ngModelChange",function(o){m(e);let l=c();return _(l.contactoNuevo.nombre,o)||(l.contactoNuevo.nombre=o),p(o)}),t()(),i(13,"div",46)(14,"label"),a(15,"Email"),t(),i(16,"input",48),h("ngModelChange",function(o){m(e);let l=c();return _(l.contactoNuevo.email,o)||(l.contactoNuevo.email=o),p(o)}),t()(),i(17,"div",46)(18,"label"),a(19,"Tel\xE9fono"),t(),i(20,"input",49),h("ngModelChange",function(o){m(e);let l=c();return _(l.contactoNuevo.telefono,o)||(l.contactoNuevo.telefono=o),p(o)}),t()(),i(21,"div",46)(22,"label"),a(23,"Rol"),t(),i(24,"input",50),h("ngModelChange",function(o){m(e);let l=c();return _(l.contactoNuevo.rol_contacto,o)||(l.contactoNuevo.rol_contacto=o),p(o)}),t()(),i(25,"button",51),a(26,"Guardar"),t()()()()()()}if(d&2){let e=c();s(12),g("ngModel",e.contactoNuevo.nombre),s(4),g("ngModel",e.contactoNuevo.email),s(4),g("ngModel",e.contactoNuevo.telefono),s(4),g("ngModel",e.contactoNuevo.rol_contacto)}}function je(d,n){if(d&1&&(i(0,"option",57),a(1),t()),d&2){let e=n.$implicit;u("value",e.plan_id),s(),v(e.nombre)}}function Ge(d,n){d&1&&(i(0,"label"),a(1,"Selecciona el periodo"),t())}function Je(d,n){if(d&1&&(i(0,"option",57),a(1),t()),d&2){let e=n.$implicit;u("value",e.id_periodo),s(),v(e.nombre)}}function Ye(d,n){if(d&1){let e=E();i(0,"select",58),h("ngModelChange",function(o){m(e);let l=c(2);return _(l.periodoSeleccionado,o)||(l.periodoSeleccionado=o),p(o)}),f("change",function(o){m(e);let l=c(2);return p(l.onPeriodoSelect(o.target.value))}),i(1,"option",53),a(2,"Seleccione periodo..."),t(),C(3,Je,2,2,"option",54),t()}if(d&2){let e=c(2);g("ngModel",e.periodoSeleccionado),s(3),u("ngForOf",e.periodosDisponibles)}}function Ke(d,n){if(d&1){let e=E();i(0,"button",60),f("click",function(){m(e);let o=c(3);return p(o.guardarNuevoPlan(o.planSeleccionado.plan_id,o.periodoSeleccionado))}),a(1,"Guardar"),t()}}function Qe(d,n){if(d&1&&(i(0,"div",29)(1,"div")(2,"b"),a(3,"Descripci\xF3n:"),t(),a(4),t(),i(5,"div")(6,"b"),a(7,"Precio:"),t(),a(8),t(),i(9,"div")(10,"b"),a(11,"M\xE1x. usuarios:"),t(),a(12),t(),i(13,"div")(14,"b"),a(15,"M\xE1x. documentos:"),t(),a(16),t(),i(17,"div")(18,"b"),a(19,"M\xE1x. almacenamiento:"),t(),a(20),t(),C(21,Ke,2,0,"button",59),t()),d&2){let e=c(2);s(4),b(" ",e.planSeleccionado.descripcion,""),s(4),b(" $",e.precioSeleccionado,""),s(4),b(" ",e.planSeleccionado.max_usuarios,""),s(4),b(" ",e.planSeleccionado.max_documentos,""),s(4),b(" ",e.planSeleccionado.max_almacenamiento," GB"),s(),u("ngIf",e.planSeleccionado&&e.periodoSeleccionado)}}function Xe(d,n){if(d&1){let e=E();i(0,"div",38)(1,"div",39)(2,"div",40)(3,"div",41)(4,"h5",42),a(5,"Agregar/Modificar plan"),t(),i(6,"button",43),f("click",function(){m(e);let o=c();return p(o.showAddPlanModal=!1)}),t()(),i(7,"div",44)(8,"label"),a(9,"Selecciona el plan"),t(),i(10,"select",52),f("change",function(o){m(e);let l=c();return p(l.onPlanSelect(o.target.value))}),i(11,"option",53),a(12,"Seleccione..."),t(),C(13,je,2,2,"option",54),t(),C(14,Ge,2,0,"label",33)(15,Ye,4,2,"select",55)(16,Qe,22,6,"div",56),t()()()()}if(d&2){let e=c();s(13),u("ngForOf",e.planesDisponibles),s(),u("ngIf",e.planSeleccionado),s(),u("ngIf",e.planSeleccionado),s(),u("ngIf",e.planSeleccionado&&e.periodoSeleccionado)}}var ne=class d{constructor(n,e,r){this.usuariosService=n;this.cdr=e;this.route=r}periodosDisponibles=[];periodoSeleccionado="";planesDisponibles=[];planSeleccionado=null;preciosDisponibles=[];precioSeleccionado=null;nombrePeriodoSeleccionado="";showCreateModal=!1;showAddContactModal=!1;showAddPlanModal=!1;empresaNuevo={};datosEmpresa={};contactos=[];historialPagos=[];activeTab="home";contactoNuevo={nombre:"",email:"",telefono:"",rol_contacto:"",estado:"A"};isLoading=!1;empresaId=null;ngOnInit(){this.planesDisponibles=[],this.empresaId=this.route.snapshot.paramMap.get("uid"),console.log("ID de empresa recibido:",this.empresaId),this.Cargar_Datos_Empresa({id:this.empresaId}),this.Cargar_Contactos_Empresa({id:this.empresaId}),this.Cargar_Historial_Pagos({id:this.empresaId})}Cargar_Historial_Pagos(n){if(!n.id)return;let e={id_empresa:n.id};this.usuariosService.getHistorialPagosEmpresa(e).subscribe({next:r=>{r.success&&r.data?this.historialPagos=r.data:this.historialPagos=[]},error:r=>{this.historialPagos=[]}})}Cargar_Datos_Empresa(n){if(!n.id){console.error("ID de empresa no proporcionado");return}let e={uid:n.id};this.usuariosService.getEmpresaDataByUid(e).subscribe({next:r=>{console.log("\u{1F680} ~ PanelEmpresaComponent ~ Cargar_Datos_Empresa ~ response:",r),r.success&&r.data?(this.empresaNuevo=r.data[0],this.datosEmpresa=r.data[0]):j.default.fire("Error!",r.message,"error")},error:r=>{console.error("Error al cargar datos de la empresa:",r)}})}Cargar_Contactos_Empresa(n){if(!n.id)return;let e={uid:n.id};this.usuariosService.getContactosEmpresa(e).subscribe({next:r=>{console.log("\u{1F680} ~ PanelEmpresaComponent ~ Cargar_Contactos_Empresa ~ response:",r),r.success&&r.data?this.contactos=r.data:this.contactos=[]},error:r=>{this.contactos=[]}})}Cargar_Planes_Empresa(){this.usuariosService.getPlanesEmpresa({}).subscribe({next:n=>{console.log("\u{1F680} ~ PanelEmpresaComponent ~ Cargar_Planes_Empresa ~ response:",n),n?(this.planesDisponibles=n.planes.data,this.periodosDisponibles=n.periodos.data,this.preciosDisponibles=n.precios.data,this.showAddPlanModal=!0,this.planSeleccionado=null):(this.planesDisponibles=[],this.periodosDisponibles=[])},error:n=>{this.planesDisponibles=[],this.periodosDisponibles=[]}})}onPlanSelect(n){this.periodoSeleccionado="",this.planSeleccionado=this.planesDisponibles.find(e=>e.plan_id==n)||null,this.precioSeleccionado=null,this.nombrePeriodoSeleccionado=""}onPeriodoSelect(n){this.periodoSeleccionado=n,console.log("\u{1F680} ~ PanelEmpresaComponent ~ onPeriodoSelect ~ this.periodoSeleccionado:",this.periodoSeleccionado),console.log("\u{1F680} ~ PanelEmpresaComponent ~ onPeriodoSelect ~ this.planSeleccionado:",this.planSeleccionado.plan_id),console.log("\u{1F680} ~ PanelEmpresaComponent ~ onPeriodoSelect ~ this.preciosDisponibles:",this.preciosDisponibles);let e=this.preciosDisponibles.filter(r=>r.id_plan==this.planSeleccionado.plan_id&&r.id_periodo==this.periodoSeleccionado);console.log("\u{1F680} ~ PanelEmpresaComponent ~ onPeriodoSelect ~ precio:",e),this.precioSeleccionado=e.length>0?e[0].precio:null}abrirModalAgregarContacto(){this.contactoNuevo={nombre:"",email:"",telefono:"",rol_contacto:"",estado:"A"},this.showAddContactModal=!0}guardarNuevoContacto(){if(!this.empresaId)return;let n=w({id_empresa:this.datosEmpresa.id_empresa},this.contactoNuevo);console.log("\u{1F680} ~ PanelEmpresaComponent ~ guardarNuevoContacto ~ param:",n),this.usuariosService.createContactoEmpresa(n).subscribe({next:e=>{console.log("\u{1F680} ~ PanelEmpresaComponent ~ guardarNuevoContacto ~ response:",e),e.success?(j.default.fire("\xC9xito!",e.message,"success"),this.showAddContactModal=!1,this.Cargar_Contactos_Empresa({id:this.empresaId})):j.default.fire("Error!",e.message,"error")},error:e=>{j.default.fire("Error!","No se pudo crear el contacto","error")}})}abrirModalAgregarPlan(){this.periodoSeleccionado="",this.precioSeleccionado=null,this.nombrePeriodoSeleccionado="",this.Cargar_Planes_Empresa()}guardarNuevoPlan(n,e){if(!this.empresaId)return;let r={uid:this.empresaId,plan_id:n,periodo:e};console.log("\u{1F680} ~ PanelEmpresaComponent ~ guardarNuevoPlan ~ param:",r)}static \u0275fac=function(e){return new(e||d)(S(q),S(N),S(pe))};static \u0275cmp=P({type:d,selectors:[["app-panel-empresa"]],decls:71,vars:17,consts:[["nav","ngbNav"],[1,"container-fluid","customer-order-wrapper"],[1,"row"],[1,"col-12"],[3,"headerTitle","cardClass"],[1,"row","mb-3"],[1,"col-md-6"],[1,"list-group"],[1,"list-group-item"],[1,"col-md-6","d-flex","flex-column","align-items-end"],[1,"btn","btn-primary","mb-2",3,"click"],[1,"btn","btn-success",3,"click"],["ngbNav","",1,"nav","nav-tabs",3,"activeIdChange","activeId"],[3,"ngbNavItem"],["ngbNavLink","",1,"nav-link","txt-secondary"],[1,"icofont","icofont-ui-home"],["ngbNavContent",""],[1,"icofont","icofont-contacts"],[3,"ngbNavOutlet"],["id","empresaTabs","role","tablist",1,"nav","nav-tabs","mb-3"],["role","presentation",1,"nav-item"],["id","contactos-tab","data-bs-toggle","tab","data-bs-target","#contactos","type","button","role","tab","aria-controls","contactos","aria-selected","true",1,"nav-link","active"],["id","historial-tab","data-bs-toggle","tab","data-bs-target","#historial","type","button","role","tab","aria-controls","historial","aria-selected","false",1,"nav-link"],["id","empresaTabsContent",1,"tab-content"],["id","contactos","role","tabpanel","aria-labelledby","contactos-tab",1,"tab-pane","fade","show","active"],["id","historial","role","tabpanel","aria-labelledby","historial-tab",1,"tab-pane","fade"],["class","alert alert-info",4,"ngIf"],["class","alert alert-success",4,"ngIf"],["class","modal fade show d-block","tabindex","-1","style","background:rgba(0,0,0,0.3);",4,"ngIf"],[1,"mt-3"],[1,"text-muted","fw-bold"],[1,"table","table-bordered","table-striped","mt-3"],[4,"ngFor","ngForOf"],[4,"ngIf"],["colspan","7",1,"text-center"],["colspan","6",1,"text-center"],[1,"alert","alert-info"],[1,"alert","alert-success"],["tabindex","-1",1,"modal","fade","show","d-block",2,"background","rgba(0,0,0,0.3)"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[3,"ngSubmit"],[1,"mb-2"],["type","text","name","nombre","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","email","name","email","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","telefono","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","rol_contacto","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-success"],[1,"form-control","mb-3",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","form-control mb-3","name","periodo",3,"ngModel","ngModelChange","change",4,"ngIf"],["class","mt-3",4,"ngIf"],[3,"value"],["name","periodo",1,"form-control","mb-3",3,"ngModelChange","change","ngModel"],["class","btn btn-primary mt-3",3,"click",4,"ngIf"],[1,"btn","btn-primary","mt-3",3,"click"]],template:function(e,r){if(e&1){let o=E();i(0,"div",1)(1,"div",2)(2,"div",3)(3,"app-card",4)(4,"div",5)(5,"div",6)(6,"ul",7)(7,"li",8)(8,"b"),a(9,"Raz\xF3n social:"),t(),a(10),t(),i(11,"li",8)(12,"b"),a(13,"Nombre comercial:"),t(),a(14),t(),i(15,"li",8)(16,"b"),a(17,"RUC:"),t(),a(18),t(),i(19,"li",8)(20,"b"),a(21,"Pa\xEDs:"),t(),a(22),t(),i(23,"li",8)(24,"b"),a(25,"Plan:"),t(),a(26),t(),i(27,"li",8)(28,"b"),a(29,"Fecha creaci\xF3n:"),t(),a(30),t(),i(31,"li",8)(32,"b"),a(33,"Estado:"),t(),a(34),t()()(),i(35,"div",9)(36,"button",10),f("click",function(){return m(o),p(r.abrirModalAgregarPlan())}),a(37,"Agregar/Modificar plan"),t(),i(38,"button",11),f("click",function(){return m(o),p(r.abrirModalAgregarContacto())}),a(39,"Agregar contacto"),t()()(),i(40,"div",2)(41,"div",3)(42,"ul",12,0),h("activeIdChange",function(oe){return m(o),_(r.activeTab,oe)||(r.activeTab=oe),p(oe)}),i(44,"li",13)(45,"a",14),y(46,"i",15),a(47,"Historial"),t(),C(48,Be,23,2,"ng-template",16),t(),i(49,"li",13)(50,"a",14),y(51,"i",17),a(52,"Contact"),t(),C(53,Oe,21,2,"ng-template",16),t()(),y(54,"div",18),i(55,"ul",19)(56,"li",20)(57,"button",21),a(58,"Contactos"),t()(),i(59,"li",20)(60,"button",22),a(61,"Historial de pagos / suscripci\xF3n"),t()()(),i(62,"div",23),y(63,"div",24),i(64,"div",25)(65,"h5"),a(66,"Historial de pagos / suscripci\xF3n"),t(),C(67,ze,3,0,"div",26)(68,qe,3,1,"div",27),t()()()()()()(),C(69,He,27,4,"div",28)(70,Xe,17,4,"div",28),t()}if(e&2){let o=ce(43);s(3),u("headerTitle","Datos de la empresa")("cardClass","pb-0"),s(7),b(" ",r.empresaNuevo.razon_social,""),s(4),b(" ",r.empresaNuevo.nombre_comercial," "),s(4),b(" ",r.empresaNuevo.ruc,""),s(4),b(" ",r.empresaNuevo.pais,""),s(4),b(" ",r.empresaNuevo.plan_nombre,""),s(4),b(" ",r.empresaNuevo.fecha_creacion,""),s(4),b(" ",r.empresaNuevo.estado,""),s(8),g("activeId",r.activeTab),s(2),u("ngbNavItem","home"),s(5),u("ngbNavItem","contact"),s(5),u("ngbNavOutlet",o),s(13),u("ngIf",r.historialPagos&&r.historialPagos.length===0),s(),u("ngIf",r.historialPagos&&r.historialPagos.length>0),s(),u("ngIf",r.showAddContactModal),s(),u("ngIf",r.showAddPlanModal)}},dependencies:[D,me,T,O,A,B,L,I,U,V,k,F,R,W,z,Se,he,ve,be,fe,xe,Ce,Ee],encapsulation:2})};var Nt=[{path:"empresas",component:ee,data:{title:"Empresas",breadcrumb:"Empresas"}},{path:"planes",component:ie,data:{title:"Planes",breadcrumb:"Planes"}},{path:"panel_empresa/:uid",component:ne,data:{title:"Datos de la Empresa",breadcrumb:"Datos de la Empresa"}}];export{Nt as empresasRoutes};
